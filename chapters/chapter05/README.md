# 第5章：设计模式

## 📖 章节概述

本章详细介绍软件设计中的经典设计模式，包括创建型、结构型和行为型模式。通过学习这些模式，学生将掌握可重用的软件设计解决方案，提高代码质量和可维护性。

## 🎯 学习目标

1. **掌握设计模式原理**：理解设计模式的基本概念和应用场景
2. **学习经典模式**：掌握常用的23种设计模式
3. **实际应用**：能够在项目中正确应用设计模式
4. **模式变体**：理解模式的变体和扩展

## 📚 主要内容

### 1. 设计模式概述
- **设计模式定义**: 前人总结的代码结构和解决方案
- **23种GoF模式**: 创建型、结构型、行为型模式
- **模式分类**: 三大类共23种经典设计模式
- **学习意义**: 提高代码可维护性、可扩展性和复用性

### 2. 创建型模式 (5种)
- **单例模式**: 确保类只有一个实例
- **工厂方法模式**: 定义创建对象的接口
- **抽象工厂模式**: 创建相关对象族
- **建造者模式**: 分步骤构建复杂对象
- **原型模式**: 通过复制创建对象

### 3. 结构型模式 (7种)
- **适配器模式**: 接口转换，使不兼容接口协同工作
- **桥接模式**: 将抽象与实现分离
- **组合模式**: 将对象组合成树形结构
- **装饰器模式**: 动态为对象添加功能
- **外观模式**: 提供统一的接口
- **享元模式**: 共享对象以节省内存
- **代理模式**: 控制对其他对象的访问

### 4. 行为型模式 (11种)
- **责任链模式**: 请求在处理器链中传递
- **命令模式**: 将请求封装为对象
- **解释器模式**: 定义语言的文法表示
- **迭代器模式**: 提供顺序访问集合元素的方法
- **中介者模式**: 减少对象间直接通信
- **备忘录模式**: 保存和恢复对象状态
- **观察者模式**: 对象间一对多依赖关系
- **状态模式**: 对象行为随状态改变
- **策略模式**: 定义算法族并封装
- **模板方法模式**: 定义算法框架
- **访问者模式**: 为对象结构添加新操作

### 5. SOLID原则
- **单一职责原则**: 类应只有一个改变的理由
- **开闭原则**: 对扩展开放，对修改封闭
- **里氏替换原则**: 子类应能替换父类
- **接口隔离原则**: 不应强迫依赖不需要的接口
- **依赖倒置原则**: 依赖抽象而非具体实现

## 💻 代码示例

### 创建型模式
- `singleton_pattern.cpp`: 单例模式实现
- `factory_pattern.cpp`: 工厂模式示例
- `builder_pattern.cpp`: 建造者模式演示

### 结构型模式
- `adapter_pattern.cpp`: 适配器模式
- `decorator_pattern.cpp`: 装饰器模式
- `composite_pattern.cpp`: 组合模式

### 行为型模式
- `observer_pattern.cpp`: 观察者模式
- `strategy_pattern.cpp`: 策略模式
- `command_pattern.cpp`: 命令模式

## 🚀 运行示例

```bash
cd code
mkdir build && cd build
cmake ..
cmake --build . --config Release
```

## 📁 文件结构

```
chapter05/
├── README.md              # 本文件
├── chapter05.tex          # LaTeX课件源文件
├── chapter05.pdf          # 编译后的课件PDF
├── code/                  # 代码示例目录
└── images/                # 课件图片资源
```

## 🎓 练习建议

1. **模式识别**: 在现有代码中识别设计模式
2. **模式实现**: 用C++实现各种设计模式
3. **模式应用**: 将设计模式应用到实际项目中

---
**章节作者**: 王培杰
**更新日期**: \today
