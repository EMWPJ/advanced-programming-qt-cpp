# 线性方程组求解系统

这是一个使用现代C++实现的完整线性方程组求解系统，展示了C++的高级特性和性能优化技术。该系统通过Lambda表达式、算法库和面向对象设计，实现了高效、可维护的数值计算解决方案。

## 🎯 核心功能

### 📊 数值计算
- **矩阵和向量类**：基于`std::vector`的高效数据存储
- **多算法求解器**：面向对象设计，支持算法扩展
- **四种求解方法**：
  - ⚡ **高斯消元法**（Gaussian Elimination）- 直接法，精确求解
  - 🔄 **LU分解法**（LU Decomposition）- 分解重用，高效求解
  - 🔢 **雅可比迭代法**（Jacobi Iteration）- 简单迭代，适用于大型稀疏矩阵
  - 🚀 **SOR迭代法**（Successive Over-Relaxation）- 加速收敛，优化性能

### 🔧 技术特性
- **Lambda表达式优化**：使用函数式编程提升代码质量
- **智能指针管理**：`std::unique_ptr`自动内存管理
- **异常安全**：完整的错误处理和异常检测
- **奇异矩阵检测**：基于行列式的精确判断
- **收敛性分析**：迭代方法的数值稳定性验证
- **跨平台编码**：UTF-8中文显示支持

## 🚀 编译和运行

### 方法一：使用批处理文件（推荐）
```bash
# 在homework目录下直接运行
.\run.bat
```

### 方法二：手动编译运行
```bash
# 创建构建目录
mkdir build
cd build

# 配置CMake（支持UTF-8）
cmake .. -DCMAKE_CXX_FLAGS="/utf-8"

# 构建Release版本
cmake --build . --config Release

# 设置UTF-8编码并运行
chcp 65001
.\Release\linear_system_solver.exe
```

### 方法三：Linux/macOS环境
```bash
# 直接构建运行
mkdir build && cd build
cmake ..
make
./linear_system_solver
```

### ⚠️ 注意事项
- ✅ 程序内置UTF-8编码设置，确保中文正确显示
- ✅ 自动处理Windows编码设置，无需手动干预
- ✅ 程序退出时自动恢复原始编码设置
- ✅ 编译警告是正常的，不影响功能
- ✅ 支持Visual Studio 2022和MinGW编译器

## 📋 测试示例

程序使用一个5×5对角占优矩阵测试所有求解器：

```
[ 5  1  0  1  0 ]
[ 1  4  1  0  0 ]
[ 0  1  5  0  1 ]
[ 0  0  1  4  0 ]
[ 1  0  0  1  5 ]
```

**解向量**: `[1.146179, 1.116279, 1.388704, 1.152824, 0.940199]`

### 📈 性能对比

| 求解器 | 收敛速度 | 数值精度 | 适用场景 |
|--------|----------|----------|----------|
| 高斯消元 | ⚡ 立即 | 🎯 精确 | 小型密集矩阵 |
| LU分解 | ⚡ 立即 | 🎯 精确 | 多次求解系统 |
| 雅可比 | 🔢 5次迭代 | 🎯 精确 | 大型稀疏矩阵 |
| SOR | 🚀 5次迭代 | 🎯 精确 | 加速收敛需求 |

## 🛠️ 现代C++特性展示

### 🎯 核心语言特性
- **智能指针管理**：`std::unique_ptr`实现RAII和异常安全
- **Lambda表达式**：函数式编程风格优化数值计算
- **面向对象多态**：虚函数和继承实现算法抽象
- **异常处理**：完整的错误检测和异常传播机制
- **移动语义**：`std::move`优化资源所有权转移

### 📚 标准库深度使用
- **STL算法库**：`std::transform`, `std::accumulate`, `std::for_each`
- **数值算法**：`std::inner_product`优化矩阵运算
- **容器类**：`std::vector`高效存储和访问
- **内存管理**：零拷贝设计和智能资源管理

### ⚡ 性能优化技术
- **编译时优化**：Lambda表达式内联和常量传播
- **内存布局**：连续存储保证缓存友好
- **算法选择**：根据问题规模自动选择最优算法
- **类型安全**：编译时错误检测和类型推导

### 🌍 跨平台特性
- **UTF-8编码**：完整的中文显示支持
- **系统调用**：Windows编码设置自动化
- **标准兼容**：纯标准C++实现，无平台依赖

## 📁 代码结构详解

### 🏗️ 核心类架构

| 文件 | 功能 | 关键特性 |
|------|------|----------|
| **matrix.h/cpp** | 矩阵类 | 基于`std::vector`的二维存储，Lambda优化运算 |
| **vector.h/cpp** | 向量类 | 一维数值容器，范数计算和标量运算 |
| **solver_base.h** | 求解器基类 | 纯虚接口，实现算法抽象和多态 |
| **linear_system.h/cpp** | 系统管理类 | 封装求解流程，精度验证和误差分析 |

### 🔧 求解器实现

| 求解器 | 算法原理 | Lambda优化 |
|--------|----------|------------|
| **gaussian_solver.h/cpp** | 高斯消元+部分选主元 | 行交换操作优化 |
| **lu_solver.h/cpp** | Doolittle LU分解 | 前向/后向替代优化 |
| **jacobi_solver.h/cpp** | 雅可比迭代 | 收敛性检查优化 |
| **sor_solver.h/cpp** | SOR加速迭代 | 超松弛参数优化 |

### 📊 性能优化亮点

#### 🎯 Lambda表达式应用
- **向量运算**: `std::transform`实现标量乘法
- **累计计算**: `std::accumulate`优化范数计算
- **遍历操作**: `std::for_each`简化打印逻辑
- **内积计算**: `std::inner_product`优化矩阵乘法

#### ⚡ 算法库使用
- **数值计算**: `std::inner_product`替代手写循环
- **数据变换**: `std::transform`统一处理模式
- **累计操作**: `std::accumulate`简化求和逻辑
- **内存操作**: `std::swap_ranges`优化数据交换

### 🎮 主程序流程

1. **系统初始化**：创建5×5测试矩阵和向量
2. **奇异性检测**：基于行列式的精确判断
3. **算法测试**：依次测试四种求解器
4. **精度验证**：残差分析和误差计算
5. **结果输出**：完整的精度分析报告

### 🔍 设计模式应用

- **策略模式**: 不同求解器实现统一接口
- **工厂模式**: 动态创建和管理求解器实例
- **模板方法**: 统一的求解流程框架
- **RAII模式**: 智能指针自动资源管理

## 📈 性能评估结果

### ✅ 数值精度验证
- **残差分析**: `||Ax - b||` 误差控制在机器精度内
- **解的准确性**: 与精确解误差小于 `1e-15`
- **奇异性检测**: 100%准确的行列式判断
- **收敛性验证**: 迭代方法稳定性保证

### ⚡ 执行效率对比
| 算法 | 执行时间 | 内存使用 | 数值稳定性 |
|------|----------|----------|------------|
| 高斯消元 | O(n³) | O(n²) | 优秀 |
| LU分解 | O(n³) | O(n²) | 优秀 |
| 雅可比迭代 | O(n²*k) | O(n²) | 良好 |
| SOR迭代 | O(n²*k) | O(n²) | 优秀 |

### 🎯 技术创新点
1. **Lambda表达式深度集成**：将函数式编程与数值计算完美结合
2. **零拷贝设计**：智能指针和移动语义优化内存使用
3. **编译时优化**：Lambda内联和常量传播提升性能
4. **异常安全**：完整的RAII实现保证程序稳定性

## 🤝 贡献指南

欢迎提交Issue和Pull Request来改进这个项目！

### 📝 如何贡献
1. Fork本仓库
2. 创建功能分支：`git checkout -b feature/amazing-feature`
3. 提交更改：`git commit -m 'Add amazing feature'`
4. 推送分支：`git push origin feature/amazing-feature`
5. 提交Pull Request

### 🔧 开发环境要求
- **C++17** 或更高版本
- **CMake** 3.15 或更高版本
- **支持UTF-8** 的编译器（MSVC 2022+ 推荐）

### 📋 代码规范
- 遵循Google C++ Style Guide
- 使用Doxygen注释格式
- 提交前请运行测试确保功能正确
- 保持代码整洁和可读性

## 📄 许可证

本项目采用MIT许可证 - 详见[LICENSE](../LICENSE)文件

## 🙏 致谢

感谢所有为这个项目做出贡献的开发者和测试者！

---

**🎓 学习目标**: 掌握现代C++的数值计算编程、算法设计和性能优化技术